# Example environment variables for the Message service
# These values mirror sensible defaults used in the repository and in the
# project's docker-compose. Copy this file to `.env` and update secrets
# when running locally or in CI.

######### MongoDB (message storage) #########
# Connection URI used by the message service (default: local docker-compose)
DATABASE_URI=mongodb://localhost:27017/messages
# Database name inside MongoDB
DATABASE_NAME=messages

######### Server ports (container-level) #########
# The service reads API_PORT and HEALTH_PORT. When using docker-compose the
# compose file exposes these through MESSAGE_API_PORT/MESSAGE_HEALTH_PORT
# (see docker-compose for substitution defaults).
API_PORT=8080
HEALTH_PORT=8081

######### Docker-compose substitution keys (optional) #########
# If you run the full compose stack, these keys are used by docker-compose
# to substitute values. Keep them if you want to change the defaults there.
MESSAGE_API_PORT=8083
MESSAGE_HEALTH_PORT=9091

######### Authentication / Keycloak #########
# Public Keycloak URL (used by e.g. frontends)
KEYCLOAK_URL=http://localhost:8080
# Internal Keycloak URL (container-to-container)
KEYCLOAK_INTERNAL_URL=http://keycloak:8080
# Keycloak realm used by the services
KEYCLOAK_REALM=myrealm

######### JWT / Secrets #########
# Short name used by docker-compose substitution for JWT inside containers
JWT_SECRET=Key-Must-Be-at-least-32-bytes-in-length
# The application reads JWT_SECRET_KEY (kept for backwards-compatibility)
JWT_SECRET_KEY=Key-Must-Be-at-least-32-bytes-in-length

######### RabbitMQ / Messaging #########
# RabbitMQ connection string used by the message service
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672

######### SpiceDB (authorization) #########
# SpiceDB gRPC endpoint (container address)
SPICEDB_ENDPOINT=spicedb:50051
# SpiceDB token (example)
SPICEDB_TOKEN=foobar

######### OpenTelemetry #########
# OTLP endpoint for traces/metrics (collector)
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317

######### Routing and CORS #########
# Path inside the container to the routing YAML (kept default)
ROUTING_CONFIG_PATH=/config/routing.yaml
# Comma-separated allowed origins for CORS (adjust for your frontend)
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost

######### Misc #########
# Environment: development, production, test
ENVIRONMENT=development

# End of example
